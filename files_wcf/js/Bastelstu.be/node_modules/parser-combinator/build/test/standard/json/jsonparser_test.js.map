{"version":3,"sources":["../../../../src/test/standard/json/jsonparser_test.js"],"names":["setUp","done","test","expect","ok","parse","ofString","isAccepted","equal","result","offset"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;kBAoBe;AACXA,WAAO,eAASC,IAAT,EAAe;AAClBA;AACH,KAHU;;AAKX,uBAAmB,wBAASC,IAAT,EAAe;AAC9BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,KAAhB,CAAjB,EAAyCC,UAAzC,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAbU;;AAeX,uBAAmB,wBAASC,IAAT,EAAe;AAC9BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,OAAhB,CAAjB,EAA2CC,UAA3C,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAvBU;;AAyBX,6CAAyC,2CAASC,IAAT,EAAe;AACpDA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKM,KAAL,CACI,qBAAWH,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,SAAhB,CAAjB,EAA6CC,UAA7C,EADJ,EAEI,KAFJ,EAGI,qBAHJ;AAKAL,aAAKD,IAAL;AACH,KAlCU;;AAoCX,iEAA6D,4DACzDC,IADyD,EAE3D;AACEA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIM,SAAS,qBAAWJ,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,YAAhB,CAAjB,CAAb;AACAJ,aAAKM,KAAL,CAAWC,OAAOC,MAAlB,EAA0B,CAA1B,EAA6B,cAA7B;AACAR,aAAKD,IAAL;AACH,KA5CU;;AA8CX,qBAAiB,sBAASC,IAAT,EAAe;AAC5BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,MAAhB,CAAjB,EAA0CC,UAA1C,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAtDU;;AAwDX,qBAAiB,sBAASC,IAAT,EAAe;AAC5BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,MAAhB,CAAjB,EAA0CC,UAA1C,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAhEU;;AAkEX,sBAAkB,uBAASC,IAAT,EAAe;AAC7BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,OAAhB,CAAjB,EAA2CC,UAA3C,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KA1EU;;AA4EX,4BAAwB,4BAASC,IAAT,EAAe;AACnCA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,KAAhB,CAAjB,EAAyCC,UAAzC,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KApFU;;AAsFX,gCAA4B,gCAASC,IAAT,EAAe;AACvCA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,SAAhB,CAAjB,EAA6CC,UAA7C,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KA9FU;;AAgGX,oCAAgC,mCAASC,IAAT,EAAe;AAC3CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,eAAhB,CAAjB,EAAmDC,UAAnD,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAxGU;;AA0GX,6BAAyB,6BAASC,IAAT,EAAe;AACpCA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,KAAhB,CAAjB,EAAyCC,UAAzC,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KAlHU;;AAoHX,iCAA6B,iCAASC,IAAT,EAAe;AACxCA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBAAWC,KAAX,CAAiB,gBAAOC,QAAP,CAAgB,eAAhB,CAAjB,EAAmDC,UAAnD,EADJ,EAEI,qBAFJ;AAIAL,aAAKD,IAAL;AACH,KA5HU;;AA8HX,qCAAiC,oCAASC,IAAT,EAAe;AAC5CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBACKC,KADL,CACW,gBAAOC,QAAP,CAAgB,yBAAhB,CADX,EAEKC,UAFL,EADJ,EAII,qBAJJ;AAMAL,aAAKD,IAAL;AACH,KAxIU;;AA0IX,mCAA+B,kCAASC,IAAT,EAAe;AAC1CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACAD,aAAKE,EAAL,CACI,qBACKC,KADL,CACW,gBAAOC,QAAP,CAAgB,qCAAhB,CADX,EAEKC,UAFL,EADJ,EAII,qBAJJ;AAMAL,aAAKD,IAAL;AACH;AApJU,C","file":"jsonparser_test.js","sourcesContent":["import stream from '../../../lib/stream/index';\r\nimport jsonparser from '../../../lib/standard/json/jsonparser';\r\n\r\n/*\r\n  ======== A Handy Little Nodeunit Reference ========\r\n  https://github.com/caolan/nodeunit\r\n\r\n  Test methods:\r\n    test.expect(numAssertions)\r\n    test.done()\r\n  Test assertions:\r\n    test.ok(value, [message])\r\n    test.equal(actual, expected, [message])\r\n    test.notEqual(actual, expected, [message])\r\n    test.deepEqual(actual, expected, [message])\r\n    test.notDeepEqual(actual, expected, [message])\r\n    test.strictEqual(actual, expected, [message])\r\n    test.notStrictEqual(actual, expected, [message])\r\n    test.throws(block, [error], [message])\r\n    test.doesNotThrow(block, [error], [message])\r\n    test.ifError(value)\r\n*/\r\n\r\nexport default {\r\n    setUp: function(done) {\r\n        done();\r\n    },\r\n\r\n    'number accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('123')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'string accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('\"123\"')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'string and unrecognized item rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            jsonparser.parse(stream.ofString('\"123\" -')).isAccepted(),\r\n            false,\r\n            'should be rejected.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'string and unrecognized item rejected with correct offset': function(\r\n        test\r\n    ) {\r\n        test.expect(1);\r\n        // tests here\r\n        var result = jsonparser.parse(stream.ofString('[\"123\", -]'));\r\n        test.equal(result.offset, 7, 'should be 7.');\r\n        test.done();\r\n    },\r\n\r\n    'null accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('null')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'true accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('true')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'false accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('false')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'empty array accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('[ ]')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'singleton array accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('[ 123 ]')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'multi element array accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('[ 123 , 234 ]')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'empty object accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('{ }')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'singleton object accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser.parse(stream.ofString('{ \"a\" : \"v\" }')).isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'multi element object accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser\r\n                .parse(stream.ofString('{ \"a\" : \"v\", \"a\" : [] }'))\r\n                .isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'multi level object accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            jsonparser\r\n                .parse(stream.ofString('{ \"a\" : \"v\", \"b\" : {\"c\":{\"d\":12} }}'))\r\n                .isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n};\r\n"]}