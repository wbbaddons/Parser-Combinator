{"version":3,"sources":["../../../src/test/parsec/parser_stream_test.js"],"names":["setUp","done","test","expect","p","char","optrep","thenRight","numberLiteral","ok","ofParser","ofString","endOfStream","equal","get","isSuccess","success"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;kBAoBe;AACXA,WAAO,eAASC,IAAT,EAAe;AAClBA;AACH,KAHU;;AAKX,oCAAgC,mCAASC,IAAT,EAAe;AAC3CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKO,EAAL,CACI,gBAAOC,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,EAAhB,CAAnB,EAAwCC,WAAxC,CAAoD,CAApD,CADJ,EAEI,wBAFJ;AAIAV,aAAKD,IAAL;AACH,KAdU;;AAgBX,wCAAoC,sCAASC,IAAT,EAAe;AAC/CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKO,EAAL,CACI,gBAAOC,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,GAAhB,CAAnB,EAAyCC,WAAzC,CAAqD,CAArD,CADJ,EAEI,wBAFJ;AAIAV,aAAKD,IAAL;AACH,KAzBU;;AA2BX,2CAAuC,wCAASC,IAAT,EAAe;AAClDA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKW,KAAL,CACI,gBAAOH,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,GAAhB,CAAnB,EAAyCC,WAAzC,CAAqD,CAArD,CADJ,EAEI,KAFJ,EAGI,wBAHJ;AAKAV,aAAKD,IAAL;AACH,KArCU;;AAuCX,uBAAmB,uBAASC,IAAT,EAAe;AAC9BA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKW,KAAL,CACI,gBAAOH,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,GAAhB,CAAnB,EAAyCG,GAAzC,CAA6C,CAA7C,EAAgDC,SAAhD,EADJ,EAEI,IAFJ,EAGI,sBAHJ;AAKAb,aAAKD,IAAL;AACH,KAjDU;;AAmDX,oCAAgC,iCAASC,IAAT,EAAe;AAC3CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKW,KAAL,CACI,gBAAOH,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,GAAhB,CAAnB,EAAyCG,GAAzC,CAA6C,CAA7C,EAAgDC,SAAhD,EADJ,EAEI,KAFJ,EAGI,sBAHJ;AAKAb,aAAKD,IAAL;AACH,KA7DU;;AA+DX,yCAAqC,uCAASC,IAAT,EAAe;AAChDA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,IAAI,sBAAEC,IAAF,CAAO,GAAP,EAAYC,MAAZ,GAAqBC,SAArB,CAA+B,wBAAEC,aAAjC,CAAR;AACAN,aAAKW,KAAL,CACI,gBAAOH,QAAP,CAAgBN,CAAhB,EAAmB,gBAAOO,QAAP,CAAgB,KAAhB,CAAnB,EAA2CG,GAA3C,CAA+C,CAA/C,EAAkDE,OAAlD,EADJ,EAEI,GAFJ,EAGI,kBAHJ;AAKAd,aAAKD,IAAL;AACH;AAzEU,C","file":"parser_stream_test.js","sourcesContent":["import stream from '../../lib/stream/index';\r\nimport C from '../../lib/parsec/chars-bundle';\r\nimport N from '../../lib/parsec/numbers-bundle';\r\n\r\n/*\r\n  ======== A Handy Little Nodeunit Reference ========\r\n  https://github.com/caolan/nodeunit\r\n\r\n  Test methods:\r\n    test.expect(numAssertions)\r\n    test.done()\r\n  Test assertions:\r\n    test.ok(value, [message])\r\n    test.equal(actual, expected, [message])\r\n    test.notEqual(actual, expected, [message])\r\n    test.deepEqual(actual, expected, [message])\r\n    test.notDeepEqual(actual, expected, [message])\r\n    test.strictEqual(actual, expected, [message])\r\n    test.notStrictEqual(actual, expected, [message])\r\n    test.throws(block, [error], [message])\r\n    test.doesNotThrow(block, [error], [message])\r\n    test.ifError(value)\r\n*/\r\n\r\nexport default {\r\n    setUp: function(done) {\r\n        done();\r\n    },\r\n\r\n    'endOfStream for empty stream': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.ok(\r\n            stream.ofParser(p, stream.ofString('')).endOfStream(0),\r\n            'should be endOfStream.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'endOfStream for non empty stream': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.ok(\r\n            stream.ofParser(p, stream.ofString('1')).endOfStream(1),\r\n            'should be endOfStream.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'no endOfStream for non empty stream': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.equal(\r\n            stream.ofParser(p, stream.ofString('1')).endOfStream(0),\r\n            false,\r\n            'should be endOfStream.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'get from stream': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.equal(\r\n            stream.ofParser(p, stream.ofString('1')).get(0).isSuccess(),\r\n            true,\r\n            'should be a success.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'do not get from empty stream': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.equal(\r\n            stream.ofParser(p, stream.ofString('1')).get(1).isSuccess(),\r\n            false,\r\n            'should be a failure.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'get from stream numberLiteral 123': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p = C.char(' ').optrep().thenRight(N.numberLiteral);\r\n        test.equal(\r\n            stream.ofParser(p, stream.ofString('123')).get(0).success(),\r\n            123,\r\n            'should be a 123.'\r\n        );\r\n        test.done();\r\n    },\r\n};\r\n"]}