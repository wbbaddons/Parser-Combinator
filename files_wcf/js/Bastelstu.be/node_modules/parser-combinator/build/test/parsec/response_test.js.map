{"version":3,"sources":["../../../src/test/parsec/response_test.js"],"names":["setUp","done","test","expect","ok","accept","isAccepted","toTry","isSuccess","map","a","equal","value","flatmap","reject","t","fold","filter"],"mappings":"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","file":"response_test.js","sourcesContent":["import response from '../../lib/parsec/response';\r\n\r\n/*\r\n  ======== A Handy Little Nodeunit Reference ========\r\n  https://github.com/caolan/nodeunit\r\n\r\n  Test methods:\r\n    test.expect(numAssertions)\r\n    test.done()\r\n  Test assertions:\r\n    test.ok(value, [message])\r\n    test.equal(actual, expected, [message])\r\n    test.notEqual(actual, expected, [message])\r\n    test.deepEqual(actual, expected, [message])\r\n    test.notDeepEqual(actual, expected, [message])\r\n    test.strictEqual(actual, expected, [message])\r\n    test.notStrictEqual(actual, expected, [message])\r\n    test.throws(block, [error], [message])\r\n    test.doesNotThrow(block, [error], [message])\r\n    test.ifError(value)\r\n*/\r\n\r\nexport default {\r\n    setUp: function(done) {\r\n        done();\r\n    },\r\n\r\n    'response accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(response.accept().isAccepted(), 'should be accepted.');\r\n        test.done();\r\n    },\r\n\r\n    'response as a success': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(response.accept().toTry().isSuccess(), 'should be success.');\r\n        test.done();\r\n    },\r\n\r\n    'response accepted map to accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            response\r\n                .accept()\r\n                .map(function(a) {\r\n                    return a;\r\n                })\r\n                .isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response accepted map to return the value': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response.accept('a').map(function(a) {\r\n                return a;\r\n            }).value,\r\n            'a',\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response accepted flatmap to accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            response\r\n                .accept('a')\r\n                .flatmap(function(a) {\r\n                    return response.accept(a);\r\n                })\r\n                .isAccepted(),\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response accepted flatmap to return the value': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            response\r\n                .accept('a')\r\n                .flatmap(function(a) {\r\n                    return response.accept(a);\r\n                })\r\n                .isAccepted(),\r\n            'a',\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response accepted flatmap to reject': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .accept()\r\n                .flatmap(function() {\r\n                    return response.reject();\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should be rejected.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response rejected map to rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .reject()\r\n                .map(function(t) {\r\n                    return t;\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should be rejected.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response rejected flatmap to rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .reject()\r\n                .flatmap(function() {\r\n                    return response.accept();\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should be rejected.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response accepted fold': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response.accept('a').fold(function(a) {\r\n                return a.value;\r\n            }),\r\n            'a',\r\n            'should retrieve the value.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response filter accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.ok(\r\n            response\r\n                .accept('a')\r\n                .filter(function(a) {\r\n                    return a === 'a';\r\n                })\r\n                .isAccepted(),\r\n            'should filter the response.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response not filter accepted ': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .accept('a')\r\n                .filter(function(a) {\r\n                    return a !== 'a';\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should not filter the response.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response.reject().isAccepted(),\r\n            false,\r\n            'should be rejected.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response as a failure': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response.reject().toTry().isSuccess(),\r\n            false,\r\n            'should be failure.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response rejected fold': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response.reject().fold(\r\n                function(a) {\r\n                    return a.value;\r\n                },\r\n                function() {\r\n                    return 'b';\r\n                }\r\n            ),\r\n            'b',\r\n            'should generate the value.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response filter rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .reject()\r\n                .filter(function() {\r\n                    return true;\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should not filter the response.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'response not filter rejected': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        test.equal(\r\n            response\r\n                .reject()\r\n                .filter(function() {\r\n                    return false;\r\n                })\r\n                .isAccepted(),\r\n            false,\r\n            'should not filter the response.'\r\n        );\r\n        test.done();\r\n    },\r\n};\r\n"]}