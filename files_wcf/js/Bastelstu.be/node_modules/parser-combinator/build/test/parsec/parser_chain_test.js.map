{"version":3,"sources":["../../../src/test/parsec/parser_chain_test.js"],"names":["setUp","done","test","expect","p1","numberLiteral","thenLeft","char","opt","p2","any","then","eos","map","r","equal","chain","parse","ofString","isAccepted","value"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;kBAoBe;AACXA,WAAO,eAASC,IAAT,EAAe;AAClBA;AACH,KAHU;;AAKX,qCAAiC,iCAASC,IAAT,EAAe;AAC5CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,KAAK,UAAEC,aAAF,CAAgBC,QAAhB,CAAyB,UAAEC,IAAF,CAAO,GAAP,EAAYC,GAAZ,EAAzB,CAAT;AAAA,YACIC,KAAK,UAAEC,GAAF,CAAMC,IAAN,CAAW,UAAED,GAAb,EAAkBJ,QAAlB,CAA2B,UAAEM,GAA7B,EAAkCC,GAAlC,CAAsC,UAASC,CAAT,EAAY;AACnD,mBAAOA,EAAE,CAAF,IAAOA,EAAE,CAAF,CAAd;AACH,SAFI,CADT;;AAKAZ,aAAKa,KAAL,CACIX,GAAGY,KAAH,CAASP,EAAT,EAAaQ,KAAb,CAAmB,gBAAOC,QAAP,CAAgB,OAAhB,CAAnB,EAA6C,CAA7C,EAAgDC,UAAhD,EADJ,EAEI,IAFJ,EAGI,qBAHJ;AAKAjB,aAAKD,IAAL;AACH,KAnBU;;AAqBX,mCAA+B,+BAASC,IAAT,EAAe;AAC1CA,aAAKC,MAAL,CAAY,CAAZ;AACA;AACA,YAAIC,KAAK,UAAEC,aAAF,CAAgBC,QAAhB,CAAyB,UAAEC,IAAF,CAAO,GAAP,EAAYC,GAAZ,EAAzB,CAAT;AAAA,YACIC,KAAK,UAAEC,GAAF,CAAMC,IAAN,CAAW,UAAED,GAAb,EAAkBJ,QAAlB,CAA2B,UAAEM,GAA7B,EAAkCC,GAAlC,CAAsC,UAASC,CAAT,EAAY;AACnD,mBAAOA,EAAE,CAAF,IAAOA,EAAE,CAAF,CAAd;AACH,SAFI,CADT;;AAKAZ,aAAKa,KAAL,CACIX,GAAGY,KAAH,CAASP,EAAT,EAAaQ,KAAb,CAAmB,gBAAOC,QAAP,CAAgB,OAAhB,CAAnB,EAA6C,CAA7C,EAAgDE,KADpD,EAEI,EAFJ,EAGI,eAHJ;AAKAlB,aAAKD,IAAL;AACH;AAnCU,C","file":"parser_chain_test.js","sourcesContent":["import stream from '../../lib/stream/index';\r\nimport {F, C, N} from '../../lib/parsec/index';\r\n/*\r\n  ======== A Handy Little Nodeunit Reference ========\r\n  https://github.com/caolan/nodeunit\r\n\r\n  Test methods:\r\n    test.expect(numAssertions)\r\n    test.done()\r\n  Test assertions:\r\n    test.ok(value, [message])\r\n    test.equal(actual, expected, [message])\r\n    test.notEqual(actual, expected, [message])\r\n    test.deepEqual(actual, expected, [message])\r\n    test.notDeepEqual(actual, expected, [message])\r\n    test.strictEqual(actual, expected, [message])\r\n    test.notStrictEqual(actual, expected, [message])\r\n    test.throws(block, [error], [message])\r\n    test.doesNotThrow(block, [error], [message])\r\n    test.ifError(value)\r\n*/\r\n\r\nexport default {\r\n    setUp: function(done) {\r\n        done();\r\n    },\r\n\r\n    'expect (chain) to be accepted': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p1 = N.numberLiteral.thenLeft(C.char(' ').opt()),\r\n            p2 = F.any.then(F.any).thenLeft(F.eos).map(function(r) {\r\n                return r[0] + r[1];\r\n            });\r\n\r\n        test.equal(\r\n            p1.chain(p2).parse(stream.ofString('12 34'), 0).isAccepted(),\r\n            true,\r\n            'should be accepted.'\r\n        );\r\n        test.done();\r\n    },\r\n\r\n    'expect (chain) to return 46': function(test) {\r\n        test.expect(1);\r\n        // tests here\r\n        var p1 = N.numberLiteral.thenLeft(C.char(' ').opt()),\r\n            p2 = F.any.then(F.any).thenLeft(F.eos).map(function(r) {\r\n                return r[0] + r[1];\r\n            });\r\n\r\n        test.equal(\r\n            p1.chain(p2).parse(stream.ofString('12 34'), 0).value,\r\n            46,\r\n            'should be 46.'\r\n        );\r\n        test.done();\r\n    },\r\n};\r\n"]}