{"version":3,"sources":["../../../src/lib/data/list.js"],"names":["arguments","length","Array","isArray","List","prototype","slice","call","value","element","concat","list","funcall","result","i","push","map","forEach","append","sep","join"],"mappings":";;;;;;;;kBA4De,YAAW;AACtB,QAAIA,UAAUC,MAAV,KAAqB,CAArB,IAA0BC,MAAMC,OAAN,CAAcH,UAAU,CAAV,CAAd,CAA9B,EAA2D;AACvD,eAAO,IAAII,IAAJ,CAASJ,UAAU,CAAV,CAAT,CAAP;AACH;;AAED,WAAO,IAAII,IAAJ,CAASF,MAAMG,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BP,SAA3B,CAAT,CAAP;AACH,C;;;;AAlED;;;;;;;;IAQMI,I;AACF,kBAAYI,KAAZ,EAAmB;AAAA;;AACf,aAAKA,KAAL,GAAaA,KAAb;AACH;;;;+BAEM;AACH,mBAAO,KAAKA,KAAL,CAAWP,MAAlB;AACH;;;kCAES;AACN,mBAAO,KAAKO,KAAL,CAAWP,MAAX,KAAsB,CAA7B;AACH;;;4BAEGQ,O,EAAS;AACT,mBAAO,IAAIL,IAAJ,CAAS,KAAKI,KAAL,CAAWE,MAAX,CAAkB,CAACD,OAAD,CAAlB,CAAT,CAAP;AACH;;;+BAEME,I,EAAM;AACT,mBAAO,IAAIP,IAAJ,CAAS,KAAKI,KAAL,CAAWE,MAAX,CAAkBC,KAAKH,KAAvB,CAAT,CAAP;AACH;;;+BAEMI,O,EAAS;AACZ,gBAAIC,SAAS,EAAb;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKN,KAAL,CAAWP,MAA/B,EAAuCa,GAAvC,EAA4C;AACxC,oBAAIF,QAAQ,KAAKJ,KAAL,CAAWM,CAAX,CAAR,CAAJ,EAA4B;AACxBD,2BAAOE,IAAP,CAAY,KAAKP,KAAL,CAAWM,CAAX,CAAZ;AACH;AACJ;AACD,mBAAO,IAAIV,IAAJ,CAASS,MAAT,CAAP;AACH;;;4BAEGD,O,EAAS;AACT,mBAAO,IAAIR,IAAJ,CAAS,KAAKI,KAAL,CAAWQ,GAAX,CAAeJ,OAAf,CAAT,CAAP;AACH;;;gCAEOA,O,EAAS;AACb,gBAAIC,SAAS,IAAIT,IAAJ,CAAS,EAAT,CAAb;AACA,iBAAKI,KAAL,CAAWS,OAAX,CAAmB,iBAAS;AACxBJ,yBAASA,OAAOK,MAAP,CAAcN,QAAQJ,KAAR,CAAd,CAAT;AACH,aAFD;AAGA,mBAAOK,MAAP;AACH;;;gCAEO;AACJ,mBAAO,KAAKL,KAAL,CAAWF,KAAX,EAAP;AACH;;;6BAEIa,G,EAAK;AACN,mBAAO,KAAKX,KAAL,CAAWY,IAAX,CAAgBD,GAAhB,CAAP;AACH","file":"list.js","sourcesContent":["/*\r\n * Parsec\r\n * https://github.com/d-plaindoux/parsec\r\n *\r\n * Copyright (c) 2015-2016 Didier Plaindoux\r\n * Licensed under the LGPL2 license.\r\n */\r\n\r\nclass List {\r\n    constructor(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    size() {\r\n        return this.value.length;\r\n    }\r\n\r\n    isEmpty() {\r\n        return this.value.length === 0;\r\n    }\r\n\r\n    add(element) {\r\n        return new List(this.value.concat([element]));\r\n    }\r\n\r\n    append(list) {\r\n        return new List(this.value.concat(list.value));\r\n    }\r\n\r\n    filter(funcall) {\r\n        var result = [];\r\n        for (var i = 0; i < this.value.length; i++) {\r\n            if (funcall(this.value[i])) {\r\n                result.push(this.value[i]);\r\n            }\r\n        }\r\n        return new List(result);\r\n    }\r\n\r\n    map(funcall) {\r\n        return new List(this.value.map(funcall));\r\n    }\r\n\r\n    flatmap(funcall) {\r\n        var result = new List([]);\r\n        this.value.forEach(value => {\r\n            result = result.append(funcall(value));\r\n        });\r\n        return result;\r\n    }\r\n\r\n    array() {\r\n        return this.value.slice();\r\n    }\r\n\r\n    join(sep) {\r\n        return this.value.join(sep);\r\n    }\r\n}\r\n\r\nexport default function() {\r\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\r\n        return new List(arguments[0]);\r\n    }\r\n\r\n    return new List(Array.prototype.slice.call(arguments));\r\n}\r\n"]}