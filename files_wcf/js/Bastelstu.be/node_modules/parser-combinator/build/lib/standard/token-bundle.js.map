{"version":3,"sources":["../../../src/lib/standard/token-bundle.js"],"names":["_inQuote","char","then","notChar","rep","map","item","array","email","illegalCharSet1","illegalCharSet2","or","charNotIn","characters","join","date","digits","charIn","thenReturns","dateValues","reverse","dateArray","blank","charsOrParser","optrep","eol","string"],"mappings":";;;;;;AAAA;;AAEA,SAASA,QAAT,GAAoB;AAChB,WAAO,SAAEC,IAAF,CAAO,GAAP,EACFC,IADE,CACG,SAAEC,OAAF,CAAU,GAAV,EAAeC,GAAf,GAAqBC,GAArB,CAAyB;AAAA,eAAQC,KAAKC,KAAL,EAAR;AAAA,KAAzB,CADH,EAEFL,IAFE,CAEG,SAAED,IAAF,CAAO,GAAP,CAFH,CAAP;AAGH;;AAED;AACA,SAASO,KAAT,GAAiB;AACb,QAAIC,kBAAkB,YAAtB;AACA,QAAIC,kBAAkB,aAAtB;;AAEA,WAAOV,WACFW,EADE,CACC,SAAEC,SAAF,CAAYH,eAAZ,CADD,EAEFL,GAFE,GAGFC,GAHE,CAGE;AAAA,eAAQC,KAAKC,KAAL,EAAR;AAAA,KAHF,EAGwB;AAHxB,KAIFL,IAJE,CAIG,SAAED,IAAF,CAAO,GAAP,CAJH,EAKFC,IALE,CAKG,SAAEU,SAAF,CAAYF,eAAZ,EAA6BN,GAA7B,GAAmCC,GAAnC,CAAuC;AAAA,eAAQC,KAAKC,KAAL,EAAR;AAAA,KAAvC,CALH,EAMFL,IANE,CAMG,SAAED,IAAF,CAAO,GAAP,CANH,EAOFC,IAPE,CAOG,SAAEU,SAAF,CAAYF,eAAZ,EAA6BN,GAA7B,GAAmCC,GAAnC,CAAuC;AAAA,eAAQC,KAAKC,KAAL,EAAR;AAAA,KAAvC,CAPH,EAQFF,GARE,CAQE;AAAA,eAAe,EAACG,OAAOK,WAAWC,IAAX,CAAgB,EAAhB,CAAR,EAAf;AAAA,KARF,CAAP;AASH;;AAED,SAASC,IAAT,GAAgB;AACZ,WAAO,SAAEC,MAAF,CACFd,IADE,CACG,SAAEe,MAAF,CAAS,IAAT,EAAeC,WAAf,CAA2B,GAA3B,CADH,EAEFhB,IAFE,CAEG,SAAEc,MAFL,EAGFd,IAHE,CAGG,SAAEe,MAAF,CAAS,IAAT,EAAeC,WAAf,CAA2B,GAA3B,CAHH,EAIFhB,IAJE,CAIG,SAAEc,MAJL,EAKFX,GALE,CAMC;AAAA,eACIc,WAAW,CAAX,IAAgB,IAAhB,GAAuBA,WAAWC,OAAX,EAAvB,GAA8CD,UADlD;AAAA,KAND,EASFd,GATE,CASE;AAAA,eAAagB,UAAUP,IAAV,CAAe,EAAf,CAAb;AAAA,KATF,CAAP;AAUH;;AAED,SAASQ,KAAT,GAAsC;AAAA,QAAvBC,aAAuB,uEAAP,KAAO;;AAClC,QAAI,OAAOA,aAAP,KAAyB,QAA7B,EAAuC;AACnC,eAAO,SAAEN,MAAF,CAASM,aAAT,EAAwBC,MAAxB,GAAiCN,WAAjC,CAA6C,EAA7C,CAAP;AACH,KAFD,MAEO;AACH,eAAOK,cAAcC,MAAd,GAAuBN,WAAvB,CAAmC,EAAnC,CAAP;AACH;AACJ;;AAED,SAASO,GAAT,GAAe;AACX,WAAO,SAAExB,IAAF,CAAO,IAAP,EAAaU,EAAb,CAAgB,SAAEe,MAAF,CAAS,MAAT,CAAhB,CAAP;AACH;;kBAEc;AACXlB,gBADW;AAEXO,cAFW;AAGXO,gBAHW;AAIXG,SAAKA;AAJM,C","file":"token-bundle.js","sourcesContent":["import {F, C, N} from '../parsec/index';\r\n\r\nfunction _inQuote() {\r\n    return C.char('\"')\r\n        .then(C.notChar('\"').rep().map(item => item.array()))\r\n        .then(C.char('\"'));\r\n}\r\n\r\n// accept simon@gmail.com, but also  simon\"le gr@nd\"@gmail.com\r\nfunction email() {\r\n    let illegalCharSet1 = ' @\\u00A0\\n\\t';\r\n    let illegalCharSet2 = ' @\\u00A0\\n\\t.';\r\n\r\n    return _inQuote()\r\n        .or(C.charNotIn(illegalCharSet1))\r\n        .rep()\r\n        .map(item => item.array()) // this mean:   repeat(inQuote or anyCharacter)\r\n        .then(C.char('@'))\r\n        .then(C.charNotIn(illegalCharSet2).rep().map(item => item.array()))\r\n        .then(C.char('.'))\r\n        .then(C.charNotIn(illegalCharSet2).rep().map(item => item.array()))\r\n        .map(characters => ({email: characters.join('')}));\r\n}\r\n\r\nfunction date() {\r\n    return N.digits\r\n        .then(C.charIn('-/').thenReturns('-'))\r\n        .then(N.digits)\r\n        .then(C.charIn('-/').thenReturns('-'))\r\n        .then(N.digits)\r\n        .map(\r\n            dateValues =>\r\n                dateValues[4] > 2000 ? dateValues.reverse() : dateValues\r\n        )\r\n        .map(dateArray => dateArray.join(''));\r\n}\r\n\r\nfunction blank(charsOrParser = ' \\t') {\r\n    if (typeof charsOrParser === 'string') {\r\n        return C.charIn(charsOrParser).optrep().thenReturns('');\r\n    } else {\r\n        return charsOrParser.optrep().thenReturns('');\r\n    }\r\n}\r\n\r\nfunction eol() {\r\n    return C.char('\\n').or(C.string('\\r\\n'));\r\n}\r\n\r\nexport default {\r\n    email,\r\n    date,\r\n    blank,\r\n    eol: eol(),\r\n};\r\n"]}