{"version":3,"sources":["../../../../src/lib/standard/markdown/code-line-parser.js"],"names":["codeLine","char","optrep","thenRight","fourSpacesBlock","rawTextUntilChar","map","code","text","parseCodeLine","line","offset","parse","ofString"],"mappings":";;;;;;AAIA;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,SAASA,QAAT,GAAoB;AAChB,WAAO,SAAEC,IAAF,CAAO,IAAP,EACFC,MADE,GAEFC,SAFE,CAEQ,gBAAEC,eAAF,EAFR,EAGFD,SAHE,CAGQ,gBAAEC,eAAF,EAHR,EAIFD,SAJE,CAIQ,gBAAEE,gBAAF,CAAmB,IAAnB,EAAyB,IAAzB,CAJR,EAKFC,GALE,CAKE;AAAA,eAAS,EAACC,MAAMC,IAAP,EAAT;AAAA,KALF,CAAP;AAMH,C,CAlBD;;;;AAoBA,SAASC,aAAT,CAAuBC,IAAvB,EAAyC;AAAA,QAAZC,MAAY,uEAAH,CAAG;;AACrC,WAAOX,WAAWY,KAAX,CAAiB,gBAAOC,QAAP,CAAgBH,IAAhB,CAAjB,EAAwCC,MAAxC,CAAP;AACH;;kBAEc;AACXX,sBADW;;AAGXY,SAHW,iBAGLF,IAHK,EAGC;AACR,eAAOD,cAAcC,IAAd,EAAoB,CAApB,CAAP;AACH;AALU,C","file":"code-line-parser.js","sourcesContent":["/**\r\n * Created by Simon on 03/01/2017.\r\n */\r\n\r\nimport {C} from '../../parsec/index';\r\nimport stream from '../../stream/index';\r\nimport T from './token';\r\n\r\n/* TODO mix spaces &  tab bug  \"  \\t  \" will not be accepted\r\n known issue: non-breakable spaces are not recognised\r\n  */\r\nfunction codeLine() {\r\n    return C.char('\\n')\r\n        .optrep()\r\n        .thenRight(T.fourSpacesBlock())\r\n        .thenRight(T.fourSpacesBlock())\r\n        .thenRight(T.rawTextUntilChar('\\n', true))\r\n        .map(text => ({code: text}));\r\n}\r\n\r\nfunction parseCodeLine(line, offset = 0) {\r\n    return codeLine().parse(stream.ofString(line), offset);\r\n}\r\n\r\nexport default {\r\n    codeLine,\r\n\r\n    parse(line) {\r\n        return parseCodeLine(line, 0);\r\n    },\r\n};\r\n"]}