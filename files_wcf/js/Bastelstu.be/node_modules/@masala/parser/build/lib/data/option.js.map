{"version":3,"sources":["../../../src/lib/data/option.js"],"names":["Option","value","undefined","bindCall","isPresent","someOrNone","f","none","some"],"mappings":";;;;;;;;;;AAAA;;;;;;;;AAQA;;;IAGMA,M;AACF,oBAAYC,KAAZ,EAAmB;AAAA;;AACf,aAAKA,KAAL,GAAaA,KAAb;AACH;;;;oCAEW;AACR,mBAAO,KAAKA,KAAL,KAAe,IAAf,IAAuB,KAAKA,KAAL,KAAeC,SAA7C;AACH;;;4BAEGC,Q,EAAU;AACV,gBAAI,KAAKC,SAAL,EAAJ,EAAsB;AAClB,uBAAOC,WAAWF,SAAS,KAAKF,KAAd,CAAX,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,IAAP;AACH;AACJ;;;gCAEOE,Q,EAAU;AACd,gBAAI,KAAKC,SAAL,EAAJ,EAAsB;AAClB,uBAAOD,SAAS,KAAKF,KAAd,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,IAAP;AACH;AACJ;;;+BAEMK,C,EAAG;AACN,gBAAI,KAAKF,SAAL,MAAoBE,EAAE,KAAKL,KAAP,CAAxB,EAAuC;AACnC,uBAAO,IAAP;AACH;;AAED;AACA;AACA,mBAAO,IAAID,MAAJ,EAAP;AACH;;;8BAEK;AACF,mBAAO,KAAKC,KAAZ;AACH;;;+BAEMA,K,EAAO;AACV,gBAAI,KAAKG,SAAL,EAAJ,EAAsB;AAClB,uBAAO,KAAKH,KAAZ;AACH,aAFD,MAEO;AACH,uBAAOA,KAAP;AACH;AACJ;;;mCAEUA,K,EAAO;AACd,gBAAI,KAAKG,SAAL,EAAJ,EAAsB;AAClB,uBAAO,KAAKH,KAAZ;AACH,aAFD,MAEO;AACH,uBAAOA,OAAP;AACH;AACJ;;;;;;AAGL,SAASI,UAAT,CAAoBJ,KAApB,EAA2B;AACvB,WAAO,IAAID,MAAJ,CAAWC,KAAX,CAAP;AACH;;AAED,SAASM,IAAT,GAAgB;AACZ,WAAO,IAAIP,MAAJ,EAAP;AACH;;kBAEc;AACXQ,UAAMH,UADK;AAEXE;AAFW,C","file":"option.js","sourcesContent":["/*\n * Parsec\n * https://github.com/d-plaindoux/parsec\n *\n * Copyright (c) 2016 Didier Plaindoux\n * Licensed under the LGPL2 license.\n */\n\n/**\n * Private class Option, accessible from someOrNone() or none()\n */\nclass Option {\n    constructor(value) {\n        this.value = value;\n    }\n\n    isPresent() {\n        return this.value !== null && this.value !== undefined;\n    }\n\n    map(bindCall) {\n        if (this.isPresent()) {\n            return someOrNone(bindCall(this.value));\n        } else {\n            return this;\n        }\n    }\n\n    flatMap(bindCall) {\n        if (this.isPresent()) {\n            return bindCall(this.value);\n        } else {\n            return this;\n        }\n    }\n\n    filter(f) {\n        if (this.isPresent() && f(this.value)) {\n            return this;\n        }\n\n        // equivalent of return none() without cyclic creation\n        // eslint : no-use-before-define\n        return new Option();\n    }\n\n    get() {\n        return this.value;\n    }\n\n    orElse(value) {\n        if (this.isPresent()) {\n            return this.value;\n        } else {\n            return value;\n        }\n    }\n\n    orLazyElse(value) {\n        if (this.isPresent()) {\n            return this.value;\n        } else {\n            return value();\n        }\n    }\n}\n\nfunction someOrNone(value) {\n    return new Option(value);\n}\n\nfunction none() {\n    return new Option();\n}\n\nexport default {\n    some: someOrNone,\n    none,\n};\n"]}